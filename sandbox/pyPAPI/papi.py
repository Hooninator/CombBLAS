from ctypes import *

PAPI_VERSION = 67239936
PAPI_VER_CURRENT = 67239936
PAPI_OK = 0
PAPI_EINVAL = -1
PAPI_ENOMEM = -2
PAPI_ESYS = -3
PAPI_ESBSTR = -4
PAPI_ECLOST = -5
PAPI_EBUG = -6
PAPI_ENOEVNT = -7
PAPI_ECNFLCT = -8
PAPI_ENOTRUN = -9
PAPI_EISRUN = -10
PAPI_ENOEVST = -11
PAPI_ENOTPRESET = -12
PAPI_ENOCNTR = -13
PAPI_EMISC = -14
PAPI_EPERM = -15
PAPI_ENOINIT = -16
PAPI_ENOCMP = -17
PAPI_ENOSUPP = -18
PAPI_ENOIMPL = -19
PAPI_EBUF = -20
PAPI_EINVAL_DOM = -21
PAPI_EATTR	= -22
PAPI_ECOUNT = -23
PAPI_ECOMBO = -24
PAPI_NUM_ERRORS	 = 25
PAPI_LOW_LEVEL_INITED = 1
PAPI_HIGH_LEVEL_INITED = 2
PAPI_THREAD_LEVEL_INITED = 4
PAPI_NULL = -1
PAPI_DOM_USER = 1
PAPI_DOM_MIN = 1
PAPI_DOM_KERNEL	 = 2
PAPI_DOM_OTHER	 = 4
PAPI_DOM_SUPERVISOR = 8
PAPI_DOM_ALL	 = 15
PAPI_DOM_MAX = 15
PAPI_DOM_HWSPEC = 2147483648
PAPI_HIGH_LEVEL_TLS = 2
PAPI_TLS_HIGH_LEVEL = 2
PAPI_USR1_LOCK = 0
PAPI_USR2_LOCK = 1
PAPI_NUM_LOCK = 2
PAPI_LOCK_USR1 = 0
PAPI_LOCK_USR2 = 1
PAPI_MPX_DEF_DEG = 32
PAPI_VENDOR_UNKNOWN = 0
PAPI_VENDOR_INTEL = 1
PAPI_VENDOR_AMD = 2
PAPI_VENDOR_IBM = 3
PAPI_VENDOR_CRAY = 4
PAPI_VENDOR_SUN = 5
PAPI_VENDOR_FREESCALE = 6
PAPI_VENDOR_ARM = 7
PAPI_VENDOR_MIPS = 8
PAPI_GRN_THR = 1
PAPI_GRN_MIN = 1
PAPI_GRN_PROC = 2
PAPI_GRN_PROCG = 4
PAPI_GRN_SYS = 8
PAPI_GRN_SYS_CPU = 16
PAPI_GRN_MAX = 16
PAPI_PER_CPU = 1
PAPI_PER_NODE = 2
PAPI_SYSTEM	 = 3
PAPI_PER_THR = 0
PAPI_PER_PROC = 1
PAPI_ONESHOT	 = 1
PAPI_RANDOMIZE	 = 2
PAPI_STOPPED = 1
PAPI_RUNNING = 2
PAPI_PAUSED = 4
PAPI_NOT_INIT = 8
PAPI_OVERFLOWING = 16
PAPI_PROFILING = 32
PAPI_MULTIPLEXING = 64
PAPI_ATTACHED	 = 128
PAPI_CPU_ATTACHED = 256
PAPI_QUIET = 0
PAPI_VERB_ECONT = 1
PAPI_VERB_ESTOP = 2
PAPI_PROFIL_POSIX = 0
PAPI_PROFIL_RANDOM = 1
PAPI_PROFIL_WEIGHTED = 2
PAPI_PROFIL_COMPRESS = 4
PAPI_PROFIL_BUCKET_16 = 8
PAPI_PROFIL_BUCKET_32 = 16
PAPI_PROFIL_BUCKET_64 = 32
PAPI_PROFIL_FORCE_SW = 64
PAPI_PROFIL_DATA_EAR = 128
PAPI_PROFIL_INST_EAR = 256
PAPI_PROFIL_BUCKETS = 56
PAPI_OVERFLOW_FORCE_SW = 64
PAPI_OVERFLOW_HARDWARE = 128
PAPI_MULTIPLEX_FORCE_SW = 1
PAPI_INHERIT_ALL = 1
PAPI_INHERIT_NONE = 0
PAPI_DEBUG = 2
PAPI_MULTIPLEX = 3
PAPI_DEFDOM = 4
PAPI_DOMAIN = 5
PAPI_DEFGRN = 6
PAPI_GRANUL = 7
PAPI_DEF_MPX_NS = 8
PAPI_EDGE_DETECT = 9
PAPI_INVERT = 10
PAPI_MAX_MPX_CTRS = 11
PAPI_PROFIL = 12
PAPI_PRELOAD = 13
PAPI_CLOCKRATE = 14
PAPI_MAX_HWCTRS = 15
PAPI_HWINFO = 16
PAPI_EXEINFO = 17
PAPI_MAX_CPUS = 18
PAPI_ATTACH = 19
PAPI_SHLIBINFO = 20
PAPI_LIB_VERSION = 21
PAPI_COMPONENTINFO = 22
PAPI_DATA_ADDRESS = 23
PAPI_INSTR_ADDRESS = 24
PAPI_CPU_ATTACH = 27
PAPI_INHERIT = 28
PAPI_USER_EVENTS_FILE = 29
PAPI_INIT_SLOTS = 64
PAPI_MIN_STR_LEN = 64
PAPI_MAX_STR_LEN = 128
PAPI_2MAX_STR_LEN = 256
PAPI_HUGE_STR_LEN = 1024
PAPI_DERIVED = 1
PAPI_MH_TYPE_EMPTY = 0
PAPI_MH_TYPE_INST = 1
PAPI_MH_TYPE_DATA = 2
PAPI_MH_TYPE_VECTOR = 4
PAPI_MH_TYPE_TRACE = 8
PAPI_MH_TYPE_UNIFIED = 3
PAPI_MH_TYPE_WT = 0
PAPI_MH_TYPE_WB = 16
PAPI_MH_TYPE_UNKNOWN = 0
PAPI_MH_TYPE_LRU = 256
PAPI_MH_TYPE_PSEUDO_LRU = 512
PAPI_MH_TYPE_TLB = 4096
PAPI_MH_TYPE_PREF = 8192
PAPI_MH_MAX_LEVELS = 6
PAPI_MAX_MEM_HIERARCHY_LEVELS = 4
PAPIF_DMEM_VMPEAK = 1
PAPIF_DMEM_VMSIZE = 2
PAPIF_DMEM_RESIDENT = 3
PAPIF_DMEM_HIGH_WATER = 4
PAPIF_DMEM_SHARED = 5
PAPIF_DMEM_TEXT = 6
PAPIF_DMEM_LIBRARY = 7
PAPIF_DMEM_HEAP = 8
PAPIF_DMEM_LOCKED = 9
PAPIF_DMEM_STACK = 10
PAPIF_DMEM_PAGESIZE = 11
PAPIF_DMEM_PTE = 12
PAPIF_DMEM_MAXVAL = 12

# load the library
cdll.LoadLibrary("libpapi.so.4")
libpapi = CDLL("libpapi.so.4")

#print libpapi['PAPI_VER_CURRENT']
def PAPI_library_init():
	retval = libpapi.PAPI_library_init(c_int(PAPI_VER_CURRENT));
	if retval != PAPI_VER_CURRENT and retval > 0:
		import sys
		sys.stderr.write("PAPI library version mismatch!\n");
		sys.exit(); 
	
def PAPI_event_name_to_code(EventName):
    code = c_int()
    error = libpapi.PAPI_event_name_to_code(c_char_p(str(EventName)), byref(code));
    print "error:",error
    return code.value


